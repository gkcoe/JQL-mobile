/*!
 * =====================================================
 * SUI Mobile - http://m.sui.taobao.org/
 *
 * =====================================================
 *//*
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
$.smVersion="0.5.7";+function(b){b.smConfig=b.extend({autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!0,pushAnimationDuration:400},b.config)}(Zepto);+function(b){b.compareVersion=function(b,d){var c=b.split("."),h=d.split(".");if(b===d)return 0;for(var g=0;g<c.length;g++){var a=parseInt(c[g]);if(!h[g])return 1;var e=parseInt(h[g]);if(a<e)break;if(a>e)return 1}return-1};b.getCurrentPage=function(){return b(".page-current")[0]||b(".page")[0]||document.body}}(Zepto);(function(b){["width","height"].forEach(function(f){var d=f.replace(/./,function(b){return b[0].toUpperCase()});b.fn["outer"+d]=function(b){var d=this;if(d){var g=d[f]();({width:["left","right"],height:["top","bottom"]})[f].forEach(function(a){b&&(g+=parseInt(d.css("margin-"+a),10))});return g}return null}});b.support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};b.touchEvents={start:b.support.touch?"touchstart":"mousedown",move:b.support.touch?"touchmove":"mousemove",end:b.support.touch?"touchend":"mouseup"};b.getTranslate=function(b,d){var c,h,g;"undefined"===typeof d&&(d="x");g=window.getComputedStyle(b,null);window.WebKitCSSMatrix?g=new WebKitCSSMatrix("none"===g.webkitTransform?"":g.webkitTransform):(g=g.MozTransform||g.OTransform||g.MsTransform||g.msTransform||g.transform||g.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=g.toString().split(","));"x"===d&&(h=window.WebKitCSSMatrix?g.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4]));"y"===d&&(h=window.WebKitCSSMatrix?g.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5]));return h||0};b.requestAnimationFrame=function(b){return window.requestAnimationFrame?window.requestAnimationFrame(b):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(b):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(b):window.setTimeout(b,1E3/60)};b.cancelAnimationFrame=function(b){return window.cancelAnimationFrame?window.cancelAnimationFrame(b):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(b):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(b):window.clearTimeout(b)};b.fn.transitionEnd=function(b){function d(a){if(a.target===this)for(b.call(this,a),h=0;h<c.length;h++)g.off(c[h],d)}var c=["webkitTransitionEnd","transitionend"],h,g=this;if(b)for(h=0;h<c.length;h++)g.on(c[h],d);return this};b.fn.dataset=function(){var f=this[0];if(f){var d={};if(f.dataset)for(var c in f.dataset)d[c]=f.dataset[c];else for(c=0;c<f.attributes.length;c++){var h=f.attributes[c];/^data-/.test(h.name)&&(d[b.toCamelCase(h.name.split("data-")[1])]=h.value)}for(var g in d)"false"===d[g]?d[g]=!1:"true"===d[g]?d[g]=!0:parseFloat(d[g])===1*d[g]&&(d[g]*=1);return d}};b.fn.data=function(f,d){if("undefined"===typeof f)return b(this).dataset();if("undefined"===typeof d){if(this[0]&&this[0].getAttribute){var c=this[0].getAttribute("data-"+f);if(c)return c;if(this[0].smElementDataStorage&&f in this[0].smElementDataStorage)return this[0].smElementDataStorage[f]}}else{for(c=0;c<this.length;c++){var h=this[c];h.smElementDataStorage||(h.smElementDataStorage={});h.smElementDataStorage[f]=d}return this}};b.fn.animationEnd=function(b){function d(a){b(a);for(h=0;h<c.length;h++)g.off(c[h],d)}var c=["webkitAnimationEnd","animationend"],h,g=this;if(b)for(h=0;h<c.length;h++)g.on(c[h],d);return this};b.fn.transition=function(b){"string"!==typeof b&&(b+="ms");for(var d=0;d<this.length;d++){var c=this[d].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b}return this};b.fn.transform=function(b){for(var d=0;d<this.length;d++){var c=this[d].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b}return this};b.fn.prevAll=function(f){var d=[],c=this[0];if(!c)return b([]);for(;c.previousElementSibling;)c=c.previousElementSibling,f?b(c).is(f)&&d.push(c):d.push(c);return b(d)};b.fn.nextAll=function(f){var d=[],c=this[0];if(!c)return b([]);for(;c.nextElementSibling;)c=c.nextElementSibling,f?b(c).is(f)&&d.push(c):d.push(c);return b(d)};b.fn.show=function(){var b={};return this.each(function(){"none"===this.style.display&&(this.style.display="");getComputedStyle(this,"").getPropertyValue("display");var d=this.style,c=this.nodeName,h,g;b[c]||(h=document.createElement(c),document.body.appendChild(h),g=getComputedStyle(h,"").getPropertyValue("display"),h.parentNode.removeChild(h),"none"===g&&(g="block"),b[c]=g);d.display=b[c]})}})(Zepto);(function(b){var f={},d=navigator.userAgent,c=d.match(/(Android);?[\s\/]+([\d.]+)?/),h=d.match(/(iPad).*OS\s([\d_]+)/),g=d.match(/(iPod)(.*OS\s([\d_]+))?/),a=!h&&d.match(/(iPhone\sOS)\s([\d_]+)/);f.ios=f.android=f.iphone=f.ipad=f.androidChrome=!1;c&&(f.os="android",f.osVersion=c[2],f.android=!0,f.androidChrome=0<=d.toLowerCase().indexOf("chrome"));if(h||a||g)f.os="ios",f.ios=!0;a&&!g&&(f.osVersion=a[2].replace(/_/g,"."),f.iphone=!0);h&&(f.osVersion=h[2].replace(/_/g,"."),f.ipad=!0);g&&(f.osVersion=g[3]?g[3].replace(/_/g,"."):null,f.iphone=!0);f.ios&&f.osVersion&&0<=d.indexOf("Version/")&&"10"===f.osVersion.split(".")[0]&&(f.osVersion=d.toLowerCase().split("version/")[1].split(" ")[0]);f.webView=(a||h||g)&&d.match(/.*AppleWebKit(?!.*Safari)/i);f.os&&"ios"===f.os&&(c=f.osVersion.split("."),f.minimalUi=!f.webView&&(g||a)&&(7===1*c[0]?1<=1*c[1]:7<1*c[0])&&0<b('meta[name\x3d"viewport"]').length&&0<=b('meta[name\x3d"viewport"]').attr("content").indexOf("minimal-ui"));g=b(window).width();a=b(window).height();f.statusBar=!1;f.statusBar=f.webView&&g*a===screen.width*screen.height?!0:!1;g=[];f.pixelRatio=window.devicePixelRatio||1;g.push("pixel-ratio-"+Math.floor(f.pixelRatio));2<=f.pixelRatio&&g.push("retina");if(f.os&&(g.push(f.os,f.os+"-"+f.osVersion.split(".")[0],f.os+"-"+f.osVersion.replace(/\./g,"-")),"ios"===f.os))for(a=parseInt(f.osVersion.split(".")[0],10)-1;6<=a;a--)g.push("ios-gt-"+a);f.statusBar?g.push("with-statusbar-overlay"):b("html").removeClass("with-statusbar-overlay");0<g.length&&b("html").addClass(g.join(" "));f.isWeixin=/MicroMessenger/i.test(d);b.device=f})(Zepto);(function(){function b(a,e){function c(a,b){return function(){return a.apply(b,arguments)}}var g;e=e||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=e.touchBoundary||10;this.layer=a;this.tapDelay=e.tapDelay||200;this.tapTimeout=e.tapTimeout||700;if(!b.notNeeded(a)){for(var h="onMouse onClick onTouchStart onTouchMove onTouchEnd onTouchCancel".split(" "),f=0,v=h.length;f<v;f++)this[h[f]]=c(this[h[f]],this);d&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0));a.addEventListener("click",this.onClick,!0);a.addEventListener("touchstart",this.onTouchStart,!1);a.addEventListener("touchmove",this.onTouchMove,!1);a.addEventListener("touchend",this.onTouchEnd,!1);a.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,e,c){var m=Node.prototype.removeEventListener;"click"===b?m.call(a,b,e.hijacked||e,c):m.call(a,b,e,c)},a.addEventListener=function(b,e,c){var m=Node.prototype.addEventListener;"click"===b?m.call(a,b,e.hijacked||(e.hijacked=function(a){a.propagationStopped||e(a)}),c):m.call(a,b,e,c)});"function"===typeof a.onclick&&(g=a.onclick,a.addEventListener("click",function(a){g(a)},!1),a.onclick=null)}}var f=0<=navigator.userAgent.indexOf("Windows Phone"),d=0<navigator.userAgent.indexOf("Android")&&!f,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!f,h=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=c&&/OS [6-7]_\d/.test(navigator.userAgent),a=0<navigator.userAgent.indexOf("BB10"),e=!1;b.prototype.needsClick=function(a){for(var b=a;b&&"BODY"!==b.tagName.toUpperCase();){if("LABEL"===b.tagName.toUpperCase()&&(e=!0,/\bneedsclick\b/.test(b.className)))return!0;b=b.parentNode}switch(a.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(a.disabled)return!0;break;case "input":if(c&&"file"===a.type||a.disabled)return!0;break;case "label":case "iframe":case "video":return!0}return/\bneedsclick\b/.test(a.className)};b.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case "textarea":return!0;case "select":return!d;case "input":switch(a.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}};b.prototype.sendClick=function(a,b){var e,c;document.activeElement&&document.activeElement!==a&&document.activeElement.blur();c=b.changedTouches[0];e=document.createEvent("MouseEvents");e.initMouseEvent(this.determineEventType(a),!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);e.forwardedTouchEvent=!0;a.dispatchEvent(e)};b.prototype.determineEventType=function(a){return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"};b.prototype.focus=function(a){var b;b=["date","time","month","number","email"];c&&a.setSelectionRange&&-1===b.indexOf(a.type)?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()};b.prototype.updateScrollParent=function(a){var b,e;b=a.fastClickScrollParent;if(!b||!b.contains(a)){e=a;do{if(e.scrollHeight>e.offsetHeight){b=e;a.fastClickScrollParent=e;break}e=e.parentElement}while(e)}b&&(b.fastClickLastScrollTop=b.scrollTop)};b.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a};b.prototype.onTouchStart=function(a){var b,e,d;if(1<a.targetTouches.length)return!0;b=this.getTargetElementFromEventTarget(a.target);e=a.targetTouches[0];if(c){d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(!h){if(e.identifier&&e.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=e.identifier;this.updateScrollParent(b)}}this.trackingClick=!0;this.trackingClickStart=a.timeStamp;this.targetElement=b;this.touchStartX=e.pageX;this.touchStartY=e.pageY;a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault();return!0};b.prototype.touchHasMoved=function(a){a=a.changedTouches[0];var b=this.touchBoundary;return Math.abs(a.pageX-this.touchStartX)>b||Math.abs(a.pageY-this.touchStartY)>b?!0:!1};b.prototype.onTouchMove=function(a){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))this.trackingClick=!1,this.targetElement=null;return!0};b.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type\x3dhidden]), keygen, meter, output, progress, select, textarea")};b.prototype.onTouchEnd=function(a){var b,e,p=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1;this.lastClickTime=a.timeStamp;b=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;g&&(e=a.changedTouches[0],p=document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset)||p,p.fastClickScrollParent=this.targetElement.fastClickScrollParent);e=p.tagName.toLowerCase();if("label"===e){if(b=this.findControl(p)){this.focus(p);if(d)return!1;p=b}}else if(this.needsFocus(p)){if(100<a.timeStamp-b||c&&window.top!==window&&"input"===e)return this.targetElement=null,!1;this.focus(p);this.sendClick(p,a);c&&"select"===e||(this.targetElement=null,a.preventDefault());return!1}if(c&&!h&&(b=p.fastClickScrollParent)&&b.fastClickLastScrollTop!==b.scrollTop)return!0;this.needsClick(p)||(a.preventDefault(),this.sendClick(p,a));return!1};b.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};b.prototype.onMouse=function(a){return this.targetElement&&!a.forwardedTouchEvent&&a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),e||a.preventDefault(),!1):!0:!0};b.prototype.onClick=function(a){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===a.target.type&&0===a.detail)return!0;a=this.onMouse(a);a||(this.targetElement=null);return a};b.prototype.destroy=function(){var a=this.layer;d&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0));a.removeEventListener("click",this.onClick,!0);a.removeEventListener("touchstart",this.onTouchStart,!1);a.removeEventListener("touchmove",this.onTouchMove,!1);a.removeEventListener("touchend",this.onTouchEnd,!1);a.removeEventListener("touchcancel",this.onTouchCancel,!1)};b.notNeeded=function(b){var e,c;if("undefined"===typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])if(d){if((e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||31<c&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return a&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=e[1]&&3<=e[2]&&(e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===b.style.msTouchAction||"manipulation"===b.style.touchAction||27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===b.style.touchAction||"manipulation"===b.style.touchAction?!0:!1};b.attach=function(a,e){return new b(a,e)};b.attach(document.body)})();+function(b){var f=function(c,d,g){var a=b(c);2===arguments.length&&"boolean"===typeof d&&(g=d);if(0===a.length)return!1;if(a.hasClass("active"))return g&&a.trigger("show"),!1;var e=a.parent(".tabs");if(0===e.length)return!1;var l=e.children(".tab.active").removeClass("active");a.addClass("active");a.trigger("show");d?d=b(d):(d="string"===typeof c?b('.tab-link[href\x3d"'+c+'"]'):b('.tab-link[href\x3d"#'+a.attr("id")+'"]'),(!d||d&&0===d.length)&&b("[data-tab]").each(function(){a.is(b(this).attr("data-tab"))&&(d=b(this))}));if(0!==d.length){var m;l&&0<l.length&&((e=l.attr("id"))&&(m=b('.tab-link[href\x3d"#'+e+'"]')),(!m||m&&0===m.length)&&b("[data-tab]").each(function(){l.is(b(this).attr("data-tab"))&&(m=b(this))}));d&&0<d.length&&d.addClass("active");m&&0<m.length&&m.removeClass("active");return!0}},d=b.showTab;b.showTab=f;b.showTab.noConflict=function(){b.showTab=d;return this};b(document).on("click",".tab-link",function(c){c.preventDefault();c=b(this);f(c.data("tab")||c.attr("href"),c)})}(Zepto);+function(b){var f=document.createElement("div");b.modalStack=[];b.modalStackClearQueue=function(){b.modalStack.length&&b.modalStack.shift()()};b.modal=function(c){c=c||{};var h="",h="";if(c.buttons&&0<c.buttons.length)for(var g=0;g<c.buttons.length;g++)h+='\x3cspan class\x3d"modal-button'+(c.buttons[g].bold?" modal-button-bold":"")+'"\x3e'+c.buttons[g].text+"\x3c/span\x3e";h='\x3cdiv class\x3d"modal '+(c.buttons&&0!==c.buttons.length?"":"modal-no-buttons")+'"\x3e\x3cdiv class\x3d"modal-inner"\x3e'+((c.title?'\x3cdiv class\x3d"modal-title"\x3e'+c.title+"\x3c/div\x3e":"")+(c.text?'\x3cdiv class\x3d"modal-text"\x3e'+c.text+"\x3c/div\x3e":"")+(c.afterText?c.afterText:""))+'\x3c/div\x3e\x3cdiv class\x3d"modal-buttons '+(c.verticalButtons?"modal-buttons-vertical":"")+'"\x3e'+h+"\x3c/div\x3e\x3c/div\x3e";f.innerHTML=h;var a=b(f).children();b(d.modalContainer).append(a[0]);a.find(".modal-button").each(function(e,d){b(d).on("click",function(d){!1!==c.buttons[e].close&&b.closeModal(a);if(c.buttons[e].onClick)c.buttons[e].onClick(a,d);if(c.onClick)c.onClick(a,e)})});b.openModal(a);return a[0]};b.alert=function(c,f,g){"function"===typeof f&&(g=f,f=void 0);return b.modal({text:c||"",title:"undefined"===typeof f?d.modalTitle:f,buttons:[{text:d.modalButtonOk,bold:!0,onClick:g}]})};b.confirm=function(c,f,g,a){"function"===typeof f&&(a=g,g=f,f=void 0);return b.modal({text:c||"",title:"undefined"===typeof f?d.modalTitle:f,buttons:[{text:d.modalButtonCancel,onClick:a},{text:d.modalButtonOk,bold:!0,onClick:g}]})};b.prompt=function(c,f,g,a){"function"===typeof f&&(a=g,g=f,f=void 0);return b.modal({text:c||"",title:"undefined"===typeof f?d.modalTitle:f,afterText:'\x3cinput type\x3d"text" class\x3d"modal-text-input"\x3e',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:!0}],onClick:function(e,c){0===c&&a&&a(b(e).find(".modal-text-input").val());1===c&&g&&g(b(e).find(".modal-text-input").val())}})};b.modalLogin=function(c,f,g,a){"function"===typeof f&&(a=g,g=f,f=void 0);return b.modal({text:c||"",title:"undefined"===typeof f?d.modalTitle:f,afterText:'\x3cinput type\x3d"text" name\x3d"modal-username" placeholder\x3d"'+d.modalUsernamePlaceholder+'" class\x3d"modal-text-input modal-text-input-double"\x3e\x3cinput type\x3d"password" name\x3d"modal-password" placeholder\x3d"'+d.modalPasswordPlaceholder+'" class\x3d"modal-text-input modal-text-input-double"\x3e',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:!0}],onClick:function(e,c){var d=b(e).find('.modal-text-input[name\x3d"modal-username"]').val(),f=b(e).find('.modal-text-input[name\x3d"modal-password"]').val();0===c&&a&&a(d,f);1===c&&g&&g(d,f)}})};b.modalPassword=function(c,f,g,a){"function"===typeof f&&(a=g,g=f,f=void 0);return b.modal({text:c||"",title:"undefined"===typeof f?d.modalTitle:f,afterText:'\x3cinput type\x3d"password" name\x3d"modal-password" placeholder\x3d"'+d.modalPasswordPlaceholder+'" class\x3d"modal-text-input"\x3e',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:!0}],onClick:function(e,c){var d=b(e).find('.modal-text-input[name\x3d"modal-password"]').val();0===c&&a&&a(d);1===c&&g&&g(d)}})};b.showPreloader=function(c){b.hidePreloader();return b.modal({title:c||d.modalPreloaderTitle,text:'\x3cdiv class\x3d"preloader"\x3e\x3c/div\x3e'})};b.hidePreloader=function(){b.closeModal(".modal.modal-in")};b.showIndicator=function(){b(".preloader-indicator-modal")[0]||b(d.modalContainer).append('\x3cdiv class\x3d"preloader-indicator-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"preloader-indicator-modal"\x3e\x3cspan class\x3d"preloader preloader-white"\x3e\x3c/span\x3e\x3c/div\x3e')};b.hideIndicator=function(){b(".preloader-indicator-overlay, .preloader-indicator-modal").remove()};b.actions=function(c){var h;c=c||[];0<c.length&&!b.isArray(c[0])&&(c=[c]);for(var g="",a=0;a<c.length;a++)for(var e=0;e<c[a].length;e++){0===e&&(g+='\x3cdiv class\x3d"actions-modal-group"\x3e');var l=c[a][e],m=l.label?"actions-modal-label":"actions-modal-button";l.bold&&(m+=" actions-modal-button-bold");l.color&&(m+=" color-"+l.color);l.bg&&(m+=" bg-"+l.bg);l.disabled&&(m+=" disabled");g+='\x3cspan class\x3d"'+m+'"\x3e'+l.text+"\x3c/span\x3e";e===c[a].length-1&&(g+="\x3c/div\x3e")}f.innerHTML='\x3cdiv class\x3d"actions-modal"\x3e'+g+"\x3c/div\x3e";h=b(f).children();b(d.modalContainer).append(h[0]);h.find(".actions-modal-group").each(function(a,e){b(e).children().each(function(e,d){var g=c[a][e],m;b(d).is(".actions-modal-button")&&(m=b(d));if(m)m.on("click",function(a){!1!==g.close&&b.closeModal(h);if(g.onClick)g.onClick(h,a)})})});b.openModal(h);return h[0]};b.popup=function(c,f){"undefined"===typeof f&&(f=!0);if("string"===typeof c&&0<=c.indexOf("\x3c")){var g=document.createElement("div");g.innerHTML=c.trim();if(0<g.childNodes.length)c=g.childNodes[0],f&&c.classList.add("remove-on-close"),b(d.modalContainer).append(c);else return!1}c=b(c);if(0===c.length)return!1;c.show();c.find(".content").scroller("refresh");0<c.find("."+d.viewClass).length&&b.sizeNavbars(c.find("."+d.viewClass)[0]);b.openModal(c);return c[0]};b.pickerModal=function(c,f){"undefined"===typeof f&&(f=!0);if("string"===typeof c&&0<=c.indexOf("\x3c"))if(c=b(c),0<c.length)f&&c.addClass("remove-on-close"),b(d.modalContainer).append(c[0]);else return!1;c=b(c);if(0===c.length)return!1;c.show();b.openModal(c);return c[0]};b.loginScreen=function(c){c||(c=".login-screen");c=b(c);if(0===c.length)return!1;c.show();0<c.find("."+d.viewClass).length&&b.sizeNavbars(c.find("."+d.viewClass)[0]);b.openModal(c);return c[0]};b.toast=function(c,d,g){var a=b('\x3cdiv class\x3d"modal toast '+(g||"")+'"\x3e'+c+"\x3c/div\x3e").appendTo(document.body);b.openModal(a,function(){setTimeout(function(){b.closeModal(a)},d||2E3)})};b.openModal=function(c,f){c=b(c);var g=c.hasClass("modal"),a=!c.hasClass("toast");if(b(".modal.modal-in:not(.modal-out)").length&&d.modalStack&&g&&a)b.modalStack.push(function(){b.openModal(c,f)});else{var a=c.hasClass("popup"),e=c.hasClass("login-screen"),l=c.hasClass("picker-modal"),m=c.hasClass("toast");g&&(c.show(),c.css({marginTop:-Math.round(c.outerHeight()/2)+"px"}));m&&c.css({marginLeft:-Math.round(c.outerWidth()/2/1.185)+"px"});var u;e||l||m||(0!==b(".modal-overlay").length||a||b(d.modalContainer).append('\x3cdiv class\x3d"modal-overlay"\x3e\x3c/div\x3e'),0===b(".popup-overlay").length&&a&&b(d.modalContainer).append('\x3cdiv class\x3d"popup-overlay"\x3e\x3c/div\x3e'),u=a?b(".popup-overlay"):b(".modal-overlay"));c.trigger("open");l&&b(d.modalContainer).addClass("with-picker-modal");e||l||m||u.addClass("modal-overlay-visible");c.removeClass("modal-out").addClass("modal-in").transitionEnd(function(a){c.hasClass("modal-out")?c.trigger("closed"):c.trigger("opened")});"function"===typeof f&&f.call(this);return!0}};b.closeModal=function(c){c=b(c||".modal-in");if("undefined"===typeof c||0!==c.length){var f=c.hasClass("modal"),g=c.hasClass("popup"),a=c.hasClass("toast"),e=c.hasClass("login-screen"),l=c.hasClass("picker-modal"),m=c.hasClass("remove-on-close"),u=g?b(".popup-overlay"):b(".modal-overlay");g?c.length===b(".popup.modal-in").length&&u.removeClass("modal-overlay-visible"):l||a||u.removeClass("modal-overlay-visible");c.trigger("close");l&&(b(d.modalContainer).removeClass("with-picker-modal"),b(d.modalContainer).addClass("picker-modal-closing"));c.removeClass("modal-in").addClass("modal-out").transitionEnd(function(a){c.hasClass("modal-out")?c.trigger("closed"):c.trigger("opened");l&&b(d.modalContainer).removeClass("picker-modal-closing");g||e||l?(c.removeClass("modal-out").hide(),m&&0<c.length&&c.remove()):c.remove()});f&&d.modalStack&&b.modalStackClearQueue();return!0}};b(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",function(c){c=b(this);c.attr("href");var f=c.dataset(),g;c.hasClass("open-popup")&&(g=f.popup?f.popup:".popup",b.popup(g));c.hasClass("close-popup")&&(g=f.popup?f.popup:".popup.modal-in",b.closeModal(g));c.hasClass("modal-overlay")&&(0<b(".modal.modal-in").length&&d.modalCloseByOutside&&b.closeModal(".modal.modal-in"),0<b(".actions-modal.modal-in").length&&d.actionsCloseByOutside&&b.closeModal(".actions-modal.modal-in"));c.hasClass("popup-overlay")&&0<b(".popup.modal-in").length&&d.popupCloseByOutside&&b.closeModal(".popup.modal-in")});var d=b.modal.prototype.defaults={modalStack:!0,modalButtonOk:"\u786e\u5b9a",modalButtonCancel:"\u53d6\u6d88",modalPreloaderTitle:"\u52a0\u8f7d\u4e2d",modalContainer:document.body}}(Zepto);+function(b){var f=function(d){function c(b){b=new Date(b);var e=b.getFullYear(),c=b.getMonth(),d=c+1,g=b.getDate();b=b.getDay();return a.params.dateFormat.replace(/yyyy/g,e).replace(/yy/g,(e+"").substring(2)).replace(/mm/g,10>d?"0"+d:d).replace(/m/g,d).replace(/MM/g,a.params.monthNames[c]).replace(/M/g,a.params.monthNamesShort[c]).replace(/dd/g,10>g?"0"+g:g).replace(/d/g,g).replace(/DD/g,a.params.dayNames[b]).replace(/D/g,a.params.dayNamesShort[b])}function f(e){e.preventDefault();b.device.isWeixin&&b.device.android&&a.params.inputReadOnly&&(this.focus(),this.blur());if(!a.opened&&(a.open(),a.params.scrollToInput&&(e=a.input.parents(".content"),0!==e.length))){var c=parseInt(e.css("padding-top"),10),d=parseInt(e.css("padding-bottom"),10),g=e[0].offsetHeight-c-a.container.height(),l=e[0].scrollHeight-c-a.container.height(),c=a.input.offset().top-c+a.input[0].offsetHeight;c>g&&(c=e.scrollTop()+c-g,c+g>l&&(d=c+g-l+d,g===l&&(d=a.container.height()),e.css({"padding-bottom":d+"px"})),e.scrollTop(c,300))}}function g(e){a.input&&0<a.input.length?e.target!==a.input[0]&&0===b(e.target).parents(".picker-modal").length&&a.close():0===b(e.target).parents(".picker-modal").length&&a.close()}var a=this,e={monthNames:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),monthNamesShort:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),dayNames:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),dayNamesShort:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'\x3cdiv class\x3d"picker-calendar-month-picker"\x3e\x3ca href\x3d"#" class\x3d"link icon-only picker-calendar-prev-month"\x3e\x3ci class\x3d"icon icon-prev"\x3e\x3c/i\x3e\x3c/a\x3e\x3cdiv class\x3d"current-month-value"\x3e\x3c/div\x3e\x3ca href\x3d"#" class\x3d"link icon-only picker-calendar-next-month"\x3e\x3ci class\x3d"icon icon-next"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',yearPicker:!0,yearPickerTemplate:'\x3cdiv class\x3d"picker-calendar-year-picker"\x3e\x3ca href\x3d"#" class\x3d"link icon-only picker-calendar-prev-year"\x3e\x3ci class\x3d"icon icon-prev"\x3e\x3c/i\x3e\x3c/a\x3e\x3cspan class\x3d"current-year-value"\x3e\x3c/span\x3e\x3ca href\x3d"#" class\x3d"link icon-only picker-calendar-next-year"\x3e\x3ci class\x3d"icon icon-next"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"toolbar-inner"\x3e{{monthPicker}}{{yearPicker}}\x3c/div\x3e\x3c/div\x3e'};d=d||{};for(var l in e)"undefined"===typeof d[l]&&(d[l]=e[l]);a.params=d;a.initialized=!1;a.inline=a.params.container?!0:!1;a.isH="horizontal"===a.params.direction;a.animating=!1;a.addValue=function(b){if(a.params.multiple){a.value||(a.value=[]);for(var e,c=0;c<a.value.length;c++)(new Date(b)).getTime()===(new Date(a.value[c])).getTime()&&(e=c);"undefined"===typeof e?a.value.push(b):a.value.splice(e,1)}else a.value=[b];a.updateValue()};a.setValue=function(b){a.value=b;a.updateValue()};a.updateValue=function(){a.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var e,d;for(e=0;e<a.value.length;e++)d=new Date(a.value[e]),a.wrapper.find('.picker-calendar-day[data-date\x3d"'+d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate()+'"]').addClass("picker-calendar-day-selected");if(a.params.onChange)a.params.onChange(a,a.value,a.value.map(c));if(a.input&&0<a.input.length){if(a.params.formatValue)d=a.params.formatValue(a,a.value);else{d=[];for(e=0;e<a.value.length;e++)d.push(c(a.value[e]));d=d.join(", ")}b(a.input).val(d);b(a.input).trigger("change")}};a.initCalendarEvents=function(){function e(b){h||l||(l=!0,q=y="touchstart"===b.type?b.targetTouches[0].pageX:b.pageX,w=y="touchstart"===b.type?b.targetTouches[0].pageY:b.pageY,k=(new Date).getTime(),C=0,f=!0,t=void 0,G=a.monthsTranslate)}function c(b){l&&(r="touchmove"===b.type?b.targetTouches[0].pageX:b.pageX,y="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,"undefined"===typeof t&&(t=!!(t||Math.abs(y-w)>Math.abs(r-q))),a.isH&&t?l=!1:(b.preventDefault(),a.animating?l=!1:(f=!1,h||(h=!0,H=a.wrapper[0].offsetWidth,B=a.wrapper[0].offsetHeight,a.wrapper.transition(0)),b.preventDefault(),E=a.isH?r-q:y-w,C=E/(a.isH?H:B),G=100*(1*a.monthsTranslate+C),a.wrapper.transform("translate3d("+(a.isH?G:0)+"%, "+(a.isH?0:G)+"%, 0)"))))}function d(b){l&&h?(l=h=!1,x=(new Date).getTime(),300>x-k?10>Math.abs(E)?a.resetMonth():10<=E?a.prevMonth():a.nextMonth():-.5>=C?a.nextMonth():.5<=C?a.prevMonth():a.resetMonth(),setTimeout(function(){f=!0},100)):l=h=!1}function g(e){if(f){var c=b(e.target).parents(".picker-calendar-day");0===c.length&&b(e.target).hasClass("picker-calendar-day")&&(c=b(e.target));if(0!==c.length&&(!c.hasClass("picker-calendar-day-selected")||a.params.multiple)&&!c.hasClass("picker-calendar-day-disabled")){c.hasClass("picker-calendar-day-next")&&a.nextMonth();c.hasClass("picker-calendar-day-prev")&&a.prevMonth();e=c.attr("data-year");var d=c.attr("data-month"),p=c.attr("data-day");if(a.params.onDayClick)a.params.onDayClick(a,c[0],e,d,p);a.addValue((new Date(e,d,p)).getTime());a.params.closeOnSelect&&a.close()}}}var f=!0,l,h,q,w,r,y,k,x,G,H,B,C,E,t;a.container.find(".picker-calendar-prev-month").on("click",a.prevMonth);a.container.find(".picker-calendar-next-month").on("click",a.nextMonth);a.container.find(".picker-calendar-prev-year").on("click",a.prevYear);a.container.find(".picker-calendar-next-year").on("click",a.nextYear);a.wrapper.on("click",g);a.params.touchMove&&(a.wrapper.on(b.touchEvents.start,e),a.wrapper.on(b.touchEvents.move,c),a.wrapper.on(b.touchEvents.end,d));a.container[0].f7DestroyCalendarEvents=function(){a.container.find(".picker-calendar-prev-month").off("click",a.prevMonth);a.container.find(".picker-calendar-next-month").off("click",a.nextMonth);a.container.find(".picker-calendar-prev-year").off("click",a.prevYear);a.container.find(".picker-calendar-next-year").off("click",a.nextYear);a.wrapper.off("click",g);a.params.touchMove&&(a.wrapper.off(b.touchEvents.start,e),a.wrapper.off(b.touchEvents.move,c),a.wrapper.off(b.touchEvents.end,d))}};a.destroyCalendarEvents=function(b){"f7DestroyCalendarEvents"in a.container[0]&&a.container[0].f7DestroyCalendarEvents()};a.daysInMonth=function(a){a=new Date(a);return(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate()};a.monthHTML=function(b,e){b=new Date(b);var c=b.getFullYear(),d=b.getMonth();b.getDate();"next"===e&&(b=11===d?new Date(c+1,0):new Date(c,d+1,1));"prev"===e&&(b=0===d?new Date(c-1,11):new Date(c,d-1,1));if("next"===e||"prev"===e)d=b.getMonth(),c=b.getFullYear();var g=a.daysInMonth((new Date(b.getFullYear(),b.getMonth())).getTime()-864E6),f=a.daysInMonth(b),l=(new Date(b.getFullYear(),b.getMonth())).getDay();0===l&&(l=7);var h,w=[],r,y,k="",x=0+(a.params.firstDay-1),G=(new Date).setHours(0,0,0,0),H=a.params.minDate?(new Date(a.params.minDate)).getTime():null,B=a.params.maxDate?(new Date(a.params.maxDate)).getTime():null;if(a.value&&a.value.length)for(r=0;r<a.value.length;r++)w.push((new Date(a.value[r])).setHours(0,0,0,0));for(r=1;6>=r;r++){var C="";for(y=1;7>=y;y++){var E=y;x++;var t=x-l,A="";0>t?(t=g+t+1,A+=" picker-calendar-day-prev",h=(new Date(0>d-1?c-1:c,0>d-1?11:d-1,t)).getTime()):(t+=1,t>f?(t-=f,A+=" picker-calendar-day-next",h=(new Date(11<d+1?c+1:c,11<d+1?0:d+1,t)).getTime()):h=(new Date(c,d,t)).getTime());h===G&&(A+=" picker-calendar-day-today");0<=w.indexOf(h)&&(A+=" picker-calendar-day-selected");0<=a.params.weekendDays.indexOf(E-1)&&(A+=" picker-calendar-day-weekend");if(H&&h<H||B&&h>B)A+=" picker-calendar-day-disabled";h=new Date(h);E=h.getFullYear();h=h.getMonth();C+='\x3cdiv data-year\x3d"'+E+'" data-month\x3d"'+h+'" data-day\x3d"'+t+'" class\x3d"picker-calendar-day'+A+'" data-date\x3d"'+(E+"-"+h+"-"+t)+'"\x3e\x3cspan\x3e'+t+"\x3c/span\x3e\x3c/div\x3e"}k+='\x3cdiv class\x3d"picker-calendar-row"\x3e'+C+"\x3c/div\x3e"}return'\x3cdiv class\x3d"picker-calendar-month" data-year\x3d"'+c+'" data-month\x3d"'+d+'"\x3e'+k+"\x3c/div\x3e"};a.animating=!1;a.updateCurrentMonthYear=function(b){"undefined"===typeof b?(a.currentMonth=parseInt(a.months.eq(1).attr("data-month"),10),a.currentYear=parseInt(a.months.eq(1).attr("data-year"),10)):(a.currentMonth=parseInt(a.months.eq("next"===b?a.months.length-1:0).attr("data-month"),10),a.currentYear=parseInt(a.months.eq("next"===b?a.months.length-1:0).attr("data-year"),10));a.container.find(".current-month-value").text(a.params.monthNames[a.currentMonth]);a.container.find(".current-year-value").text(a.currentYear)};a.onMonthChangeStart=function(b){a.updateCurrentMonthYear(b);a.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e="next"===b?a.months.length-1:0;a.months.eq(e).addClass("picker-calendar-month-current");a.months.eq("next"===b?e-1:e+1).addClass("next"===b?"picker-calendar-month-prev":"picker-calendar-month-next");if(a.params.onMonthYearChangeStart)a.params.onMonthYearChangeStart(a,a.currentYear,a.currentMonth)};a.onMonthChangeEnd=function(b,e){a.animating=!1;var c,d,g;a.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove();"undefined"===typeof b&&(b="next",e=!0);e?(a.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),d=a.monthHTML(new Date(a.currentYear,a.currentMonth),"prev"),c=a.monthHTML(new Date(a.currentYear,a.currentMonth),"next")):g=a.monthHTML(new Date(a.currentYear,a.currentMonth),b);("next"===b||e)&&a.wrapper.append(g||c);("prev"===b||e)&&a.wrapper.prepend(g||d);a.months=a.wrapper.find(".picker-calendar-month");a.setMonthsTranslate(a.monthsTranslate);if(a.params.onMonthAdd)a.params.onMonthAdd(a,"next"===b?a.months.eq(a.months.length-1)[0]:a.months.eq(0)[0]);if(a.params.onMonthYearChangeEnd)a.params.onMonthYearChangeEnd(a,a.currentYear,a.currentMonth)};a.setMonthsTranslate=function(b){b=b||a.monthsTranslate||0;"undefined"===typeof a.monthsTranslate&&(a.monthsTranslate=b);a.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e=100*-(b+1),c=100*-b;b=100*-(b-1);a.months.eq(0).transform("translate3d("+(a.isH?e:0)+"%, "+(a.isH?0:e)+"%, 0)").addClass("picker-calendar-month-prev");a.months.eq(1).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)").addClass("picker-calendar-month-current");a.months.eq(2).transform("translate3d("+(a.isH?b:0)+"%, "+(a.isH?0:b)+"%, 0)").addClass("picker-calendar-month-next")};a.nextMonth=function(e){if("undefined"===typeof e||"object"===typeof e)e="",a.params.animate||(e=0);var c=parseInt(a.months.eq(a.months.length-1).attr("data-month"),10),d=parseInt(a.months.eq(a.months.length-1).attr("data-year"),10),g=(new Date(d,c)).getTime(),d=a.animating?!1:!0;if(a.params.maxDate&&g>(new Date(a.params.maxDate)).getTime())return a.resetMonth();a.monthsTranslate--;if(c===a.currentMonth&&(c=100*-a.monthsTranslate,c=b(a.monthHTML(g,"next")).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)").addClass("picker-calendar-month-next"),a.wrapper.append(c[0]),a.months=a.wrapper.find(".picker-calendar-month"),a.params.onMonthAdd))a.params.onMonthAdd(a,a.months.eq(a.months.length-1)[0]);a.animating=!0;a.onMonthChangeStart("next");c=100*a.monthsTranslate;a.wrapper.transition(e).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)");d&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd("next")});if(!a.params.animate)a.onMonthChangeEnd("next")};a.prevMonth=function(e){if("undefined"===typeof e||"object"===typeof e)e="",a.params.animate||(e=0);var c=parseInt(a.months.eq(0).attr("data-month"),10),d=parseInt(a.months.eq(0).attr("data-year"),10),g=(new Date(d,c+1,-1)).getTime(),d=a.animating?!1:!0;if(a.params.minDate&&g<(new Date(a.params.minDate)).getTime())return a.resetMonth();a.monthsTranslate++;if(c===a.currentMonth&&(c=100*-a.monthsTranslate,c=b(a.monthHTML(g,"prev")).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)").addClass("picker-calendar-month-prev"),a.wrapper.prepend(c[0]),a.months=a.wrapper.find(".picker-calendar-month"),a.params.onMonthAdd))a.params.onMonthAdd(a,a.months.eq(0)[0]);a.animating=!0;a.onMonthChangeStart("prev");c=100*a.monthsTranslate;a.wrapper.transition(e).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)");d&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd("prev")});if(!a.params.animate)a.onMonthChangeEnd("prev")};a.resetMonth=function(b){"undefined"===typeof b&&(b="");var e=100*a.monthsTranslate;a.wrapper.transition(b).transform("translate3d("+(a.isH?e:0)+"%, "+(a.isH?0:e)+"%, 0)")};a.setYearMonth=function(b,e,c){"undefined"===typeof b&&(b=a.currentYear);"undefined"===typeof e&&(e=a.currentMonth);if("undefined"===typeof c||"object"===typeof c)c="",a.params.animate||(c=0);var d;d=b<a.currentYear?(new Date(b,e+1,-1)).getTime():(new Date(b,e)).getTime();if(a.params.maxDate&&d>(new Date(a.params.maxDate)).getTime()||a.params.minDate&&d<(new Date(a.params.minDate)).getTime())return!1;var g=(new Date(a.currentYear,a.currentMonth)).getTime(),f=d>g?"next":"prev";e=a.monthHTML(new Date(b,e));a.monthsTranslate=a.monthsTranslate||0;var l=a.monthsTranslate;b=a.animating?!1:!0;d>g?(a.monthsTranslate--,a.animating||a.months.eq(a.months.length-1).remove(),a.wrapper.append(e),a.months=a.wrapper.find(".picker-calendar-month"),d=100*-(l-1),a.months.eq(a.months.length-1).transform("translate3d("+(a.isH?d:0)+"%, "+(a.isH?0:d)+"%, 0)").addClass("picker-calendar-month-next")):(a.monthsTranslate++,a.animating||a.months.eq(0).remove(),a.wrapper.prepend(e),a.months=a.wrapper.find(".picker-calendar-month"),d=100*-(l+1),a.months.eq(0).transform("translate3d("+(a.isH?d:0)+"%, "+(a.isH?0:d)+"%, 0)").addClass("picker-calendar-month-prev"));if(a.params.onMonthAdd)a.params.onMonthAdd(a,"next"===f?a.months.eq(a.months.length-1)[0]:a.months.eq(0)[0]);a.animating=!0;a.onMonthChangeStart(f);d=100*a.monthsTranslate;a.wrapper.transition(c).transform("translate3d("+(a.isH?d:0)+"%, "+(a.isH?0:d)+"%, 0)");b&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd(f,!0)});if(!a.params.animate)a.onMonthChangeEnd(f)};a.nextYear=function(){a.setYearMonth(a.currentYear+1)};a.prevYear=function(){a.setYearMonth(a.currentYear-1)};a.layout=function(){var b="",b=a.value&&a.value.length?a.value[0]:(new Date).setHours(0,0,0,0),e=a.monthHTML(b,"prev"),c=a.monthHTML(b),b=a.monthHTML(b,"next"),e='\x3cdiv class\x3d"picker-calendar-months"\x3e\x3cdiv class\x3d"picker-calendar-months-wrapper"\x3e'+(e+c+b)+"\x3c/div\x3e\x3c/div\x3e",c="";if(a.params.weekHeader){for(b=0;7>b;b++)var d=6<b+a.params.firstDay?b-7+a.params.firstDay:b+a.params.firstDay,g=a.params.dayNamesShort[d],c=c+('\x3cdiv class\x3d"picker-calendar-week-day '+(0<=a.params.weekendDays.indexOf(d)?"picker-calendar-week-day-weekend":"")+'"\x3e '+g+"\x3c/div\x3e");c='\x3cdiv class\x3d"picker-calendar-week-days"\x3e'+c+"\x3c/div\x3e"}b="picker-modal picker-calendar "+(a.params.cssClass||"");d=a.params.toolbar?a.params.toolbarTemplate.replace(/{{closeText}}/g,a.params.toolbarCloseText):"";a.params.toolbar&&(d=a.params.toolbarTemplate.replace(/{{closeText}}/g,a.params.toolbarCloseText).replace(/{{monthPicker}}/g,a.params.monthPicker?a.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,a.params.yearPicker?a.params.yearPickerTemplate:""));a.pickerHTML='\x3cdiv class\x3d"'+b+'"\x3e'+d+'\x3cdiv class\x3d"picker-modal-inner"\x3e'+c+e+"\x3c/div\x3e\x3c/div\x3e"};if(a.params.input&&(a.input=b(a.params.input),0<a.input.length&&(a.params.inputReadOnly&&a.input.prop("readOnly",!0),!a.inline)))a.input.on("click",f);if(!a.inline)b("html").on("click",g);a.opened=!1;a.open=function(){var e=!1;a.opened||(!a.value&&a.params.value&&(a.value=a.params.value,e=!0),a.layout(),a.inline?(a.container=b(a.pickerHTML),a.container.addClass("picker-modal-inline"),b(a.params.container).append(a.container)):(a.container=b(b.pickerModal(a.pickerHTML)),b(a.container).on("close",function(){a.opened=!1;a.input&&0<a.input.length&&a.input.parents(".content").css({"padding-bottom":""});if(a.params.onClose)a.params.onClose(a);a.destroyCalendarEvents()})),a.container[0].f7Calendar=a,a.wrapper=a.container.find(".picker-calendar-months-wrapper"),a.months=a.wrapper.find(".picker-calendar-month"),a.updateCurrentMonthYear(),a.monthsTranslate=0,a.setMonthsTranslate(),a.initCalendarEvents(),e&&a.updateValue());a.opened=!0;a.initialized=!0;a.params.onMonthAdd&&a.months.each(function(){a.params.onMonthAdd(a,this)});if(a.params.onOpen)a.params.onOpen(a)};a.close=function(){a.opened&&!a.inline&&b.closeModal(a.container)};a.destroy=function(){a.close();a.params.input&&0<a.input.length&&a.input.off("click",f);b("html").off("click",g)};a.inline&&a.open();return a};b.fn.calendar=function(d){return this.each(function(){var c=b(this);if(c[0]){var h={};"INPUT"===c[0].tagName.toUpperCase()?h.input=c:h.container=c;new f(b.extend(h,d))}})};b.initCalendar=function(d){(d?b(d):b(document.body)).find("[data-toggle\x3d'date']").each(function(){b(this).calendar()})}}(Zepto);+function(b){var f=function(d){function c(){if(e.opened)for(var a=0;a<e.cols.length;a++)e.cols[a].divider||(e.cols[a].calcSize(),e.cols[a].setValue(e.cols[a].value,0,!1))}function f(a){a.preventDefault();b.device.isWeixin&&b.device.android&&e.params.inputReadOnly&&(this.focus(),this.blur());if(!e.opened&&(e.open(),e.params.scrollToInput&&(a=e.input.parents(".content"),0!==a.length))){var c=parseInt(a.css("padding-top"),10),d=parseInt(a.css("padding-bottom"),10),g=a[0].offsetHeight-c-e.container.height(),l=a[0].scrollHeight-c-e.container.height(),c=e.input.offset().top-c+e.input[0].offsetHeight;c>g&&(c=a.scrollTop()+c-g,c+g>l&&(d=c+g-l+d,g===l&&(d=e.container.height()),a.css({"padding-bottom":d+"px"})),a.scrollTop(c,300))}}function g(a){e.input&&0<e.input.length?a.target!==e.input[0]&&0===b(a.target).parents(".picker-modal").length&&e.close():0===b(a.target).parents(".picker-modal").length&&e.close()}function a(){e.opened=!1;e.input&&0<e.input.length&&e.input.parents(".content").css({"padding-bottom":""});if(e.params.onClose)e.params.onClose(e);e.container.find(".picker-items-col").each(function(){e.destroyPickerCol(this)})}var e=this,l={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"\u786e\u5b9a",toolbarTemplate:'\x3cheader class\x3d"bar bar-nav"\x3e\r\n                \x3cbutton class\x3d"button button-link pull-right close-picker"\x3e\u786e\u5b9a\x3c/button\x3e\r\n                \x3ch1 class\x3d"title"\x3e\u8bf7\u9009\u62e9\x3c/h1\x3e\r\n                \x3c/header\x3e'};d=d||{};for(var m in l)"undefined"===typeof d[m]&&(d[m]=l[m]);e.params=d;e.cols=[];e.initialized=!1;e.inline=e.params.container?!0:!1;var u=b.device.ios||0<=navigator.userAgent.toLowerCase().indexOf("safari")&&0>navigator.userAgent.toLowerCase().indexOf("chrome")&&!b.device.android;e.setValue=function(a,b){for(var c=0,d=0;d<e.cols.length;d++)e.cols[d]&&!e.cols[d].divider&&(e.cols[d].setValue(a[c],b),c++)};e.updateValue=function(){for(var a=[],c=[],d=0;d<e.cols.length;d++)e.cols[d].divider||(a.push(e.cols[d].value),c.push(e.cols[d].displayValue));if(!(0<=a.indexOf(void 0))){e.value=a;e.displayValue=c;if(e.params.onChange)e.params.onChange(e,e.value,e.displayValue);e.input&&0<e.input.length&&(b(e.input).val(e.params.formatValue?e.params.formatValue(e,e.value,e.displayValue):e.value.join(" ")),b(e.input).trigger("change"))}};e.initPickerCol=function(a,c){function d(){C=b.requestAnimationFrame(function(){k.updateItems(void 0,void 0,0);d()})}function g(a){A||t||(a.preventDefault(),t=!0,L=J="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,M=(new Date).getTime(),E=!0,K=D=b.getTranslate(k.wrapper[0],"y"))}function f(a){t&&(a.preventDefault(),E=!1,J="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,A||(b.cancelAnimationFrame(C),A=!0,K=D=b.getTranslate(k.wrapper[0],"y"),k.wrapper.transition(0)),a.preventDefault(),D=K+(J-L),I=void 0,D<H&&(D=H-Math.pow(H-D,.8),I="min"),D>B&&(D=B+Math.pow(D-B,.8),I="max"),k.wrapper.transform("translate3d(0,"+D+"px,0)"),k.updateItems(void 0,D,0,e.params.updateValuesOnTouchmove),N=D-O||D,(new Date).getTime(),O=D)}function l(a){if(t&&A){t=A=!1;k.wrapper.transition("");I&&("min"===I?k.wrapper.transform("translate3d(0,"+H+"px,0)"):k.wrapper.transform("translate3d(0,"+B+"px,0)"));P=(new Date).getTime();a=300<P-M?D:D+N*e.params.momentumRatio;a=Math.max(Math.min(a,B),H);var c=-Math.floor((a-B)/x);e.params.freeMode||(a=-c*x+B);k.wrapper.transform("translate3d(0,"+parseInt(a,10)+"px,0)");k.updateItems(c,a,"",!0);e.params.updateValuesOnMomentum&&(d(),k.wrapper.transitionEnd(function(){b.cancelAnimationFrame(C)}));setTimeout(function(){E=!0},100)}else t=A=!1}function h(a){E&&(b.cancelAnimationFrame(C),a=b(this).attr("data-picker-value"),k.setValue(a))}var m=b(a),y=m.index(),k=e.cols[y];if(!k.divider){k.container=m;k.wrapper=k.container.find(".picker-items-col-wrapper");k.items=k.wrapper.find(".picker-item");var x,G,H,B;k.replaceValues=function(a,b){k.destroyEvents();k.values=a;k.displayValues=b;var c=e.columnHTML(k,!0);k.wrapper.html(c);k.items=k.wrapper.find(".picker-item");k.calcSize();k.setValue(k.values[0],0,!0);k.initEvents()};k.calcSize=function(){e.params.rotateEffect&&(k.container.removeClass("picker-items-col-absolute"),k.width||k.container.css({width:""}));var a,c;a=0;c=k.container[0].offsetHeight;x=k.items[0].offsetHeight;G=x*k.items.length;H=c/2-G+x/2;B=c/2-x/2;k.width&&(a=k.width,parseInt(a,10)===a&&(a+="px"),k.container.css({width:a}));e.params.rotateEffect&&(k.width||(k.items.each(function(){var e=b(this);e.css({width:"auto"});a=Math.max(a,e[0].offsetWidth);e.css({width:""})}),k.container.css({width:a+2+"px"})),k.container.addClass("picker-items-col-absolute"))};k.calcSize();k.wrapper.transform("translate3d(0,"+B+"px,0)").transition(0);var C;k.setValue=function(a,c,g){"undefined"===typeof c&&(c="");a=k.wrapper.find('.picker-item[data-picker-value\x3d"'+a+'"]').index();if("undefined"!==typeof a&&-1!==a){var f=-a*x+B;k.wrapper.transition(c);k.wrapper.transform("translate3d(0,"+f+"px,0)");e.params.updateValuesOnMomentum&&k.activeIndex&&k.activeIndex!==a&&(b.cancelAnimationFrame(C),k.wrapper.transitionEnd(function(){b.cancelAnimationFrame(C)}),d());k.updateItems(a,f,c,g)}};k.updateItems=function(a,c,d,g){"undefined"===typeof c&&(c=b.getTranslate(k.wrapper[0],"y"));"undefined"===typeof a&&(a=-Math.round((c-B)/x));0>a&&(a=0);a>=k.items.length&&(a=k.items.length-1);var f=k.activeIndex;k.activeIndex=a;k.wrapper.find(".picker-selected").removeClass("picker-selected");e.params.rotateEffect&&k.items.transition(d);d=k.items.eq(a).addClass("picker-selected").transform("");if(g||"undefined"===typeof g)if(k.value=d.attr("data-picker-value"),k.displayValue=k.displayValues?k.displayValues[a]:k.value,f!==a){if(k.onChange)k.onChange(e,k.value,k.displayValue);e.updateValue()}e.params.rotateEffect&&k.items.each(function(){var a=b(this),e=(a.index()*x-(B-c))/x,d=Math.ceil(k.height/x/2)+1,g=-18*e;180<g&&(g=180);-180>g&&(g=-180);Math.abs(e)>d?a.addClass("picker-item-far"):a.removeClass("picker-item-far");a.transform("translate3d(0, "+(-c+B)+"px, "+(u?-110:0)+"px) rotateX("+g+"deg)")})};c&&k.updateItems(0,B,0);var E=!0,t,A,L,J,M,P,K,I,D,O,N;k.initEvents=function(a){a=a?"off":"on";k.container[a](b.touchEvents.start,g);k.container[a](b.touchEvents.move,f);k.container[a](b.touchEvents.end,l);k.items[a]("click",h)};k.destroyEvents=function(){k.initEvents(!0)};k.container[0].f7DestroyPickerCol=function(){k.destroyEvents()};k.initEvents()}};e.destroyPickerCol=function(a){a=b(a);"f7DestroyPickerCol"in a[0]&&a[0].f7DestroyPickerCol()};b(window).on("resize",c);e.columnHTML=function(a,b){var e="",c="";if(a.divider)c+='\x3cdiv class\x3d"picker-items-col picker-items-col-divider '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'"\x3e'+a.content+"\x3c/div\x3e";else{for(var d=0;d<a.values.length;d++)e+='\x3cdiv class\x3d"picker-item" rel\x3d"'+d+'" data-picker-value\x3d"'+a.values[d]+'"\x3e'+(a.displayValues?a.displayValues[d]:a.values[d])+"\x3c/div\x3e";c+='\x3cdiv class\x3d"picker-items-col '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'"\x3e\x3cdiv class\x3d"picker-items-col-wrapper"\x3e'+e+"\x3c/div\x3e\x3c/div\x3e"}return b?e:c};e.layout=function(){var a="",b="";e.cols=[];a="";for(b=0;b<e.params.cols.length;b++){var c=e.params.cols[b],a=a+e.columnHTML(e.params.cols[b]);e.cols.push(c)}b="picker-modal picker-columns "+(e.params.cssClass||"")+(e.params.rotateEffect?" picker-3d":"");a='\x3cdiv class\x3d"'+b+'"\x3e'+(e.params.toolbar?e.params.toolbarTemplate.replace(/{{closeText}}/g,e.params.toolbarCloseText):"")+'\x3cdiv class\x3d"picker-modal-inner picker-items"\x3e'+a+'\x3cdiv class\x3d"picker-center-highlight"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';e.pickerHTML=a};if(e.params.input&&(e.input=b(e.params.input),0<e.input.length&&(e.params.inputReadOnly&&e.input.prop("readOnly",!0),!e.inline)))e.input.on("click",f);if(!e.inline)b("html").on("click",g);e.opened=!1;e.open=function(){e.opened||(e.layout(),e.inline?(e.container=b(e.pickerHTML),e.container.addClass("picker-modal-inline"),b(e.params.container).append(e.container)):(e.container=b(b.pickerModal(e.pickerHTML)),b(e.container).on("close",function(){a()})),e.container[0].f7Picker=e,e.container.find(".picker-items-col").each(function(){var a=!0;if(!e.initialized&&e.params.value||e.initialized&&e.value)a=!1;e.initPickerCol(this,a)}),e.initialized?e.value&&e.setValue(e.value,0):e.params.value&&e.setValue(e.params.value,0));e.opened=!0;e.initialized=!0;if(e.params.onOpen)e.params.onOpen(e)};e.close=function(){e.opened&&!e.inline&&b.closeModal(e.container)};e.destroy=function(){e.close();e.params.input&&0<e.input.length&&e.input.off("click",f);b("html").off("click",g);b(window).off("resize",c)};e.inline&&e.open();return e};b(document).on("click",".close-picker",function(){var d=b(".picker-modal.modal-in");b.closeModal(d)});b.fn.picker=function(d){var c=arguments;return this.each(function(){if(this){var h=b(this),g=h.data("picker");g||(g=b.extend({input:this,value:h.val()?h.val().split(" "):""},d),g=new f(g),h.data("picker",g));"string"===typeof d&&g[d].apply(g,Array.prototype.slice.call(c,1))}})}}(Zepto);+function(b){var f=new Date,d=function(a){for(var b=[],c=1;c<=(a||31);c++)b.push(10>c?"0"+c:c);return b},c=function(a){return 10>a?"0"+a:a},h=function(){for(var a=[],b=1950;2030>=b;b++)a.push(b);return a}(),g={rotateEffect:!1,value:[f.getFullYear(),c(f.getMonth()+1),c(f.getDate()),f.getHours(),c(f.getMinutes())],onChange:function(a,b,c){b=new Date(a.cols[0].value,parseInt(a.cols[1].value)+1-1,1);b=d((new Date(b-1)).getDate());c=a.cols[2].value;c>b.length&&(c=b.length);a.cols[2].setValue(c)},formatValue:function(a,b,c){return c[0]+"-"+b[1]+"-"+b[2]+" "+b[3]+":"+b[4]},cols:[{values:h},{values:"01 02 03 04 05 06 07 08 09 10 11 12".split(" ")},{values:d()},{divider:!0,content:"  "},{values:function(){for(var a=[],b=0;23>=b;b++)a.push(b);return a}()},{divider:!0,content:":"},{values:function(){for(var a=[],b=0;59>=b;b++)a.push(10>b?"0"+b:b);return a}()}]};b.fn.datetimePicker=function(a){return this.each(function(){if(this){var e=b.extend(g,a);b(this).picker(e);a.value&&b(this).val(e.formatValue(e,e.value,e.value))}})}}(Zepto);+function(b){function f(a,b){this.wrapper="string"===typeof a?document.querySelector(a):a;this.scrollerStyle=(this.scroller=$(this.wrapper).find(".content-inner")[0])&&this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,eventPassthrough:void 0};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"";this.options.useTransition=g.hasTransition&&this.options.useTransition;this.options.useTransform=g.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY="vertical"===this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"===this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"===typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;3===this.options.probeType&&(this.options.useTransition=!1);this.directionY=this.directionX=this.y=this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function d(a,b,c){var d=document.createElement("div"),g=document.createElement("div");!0===c&&(d.style.cssText="position:absolute;z-index:9999",g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px");g.className="iScrollIndicator";"h"===a?(!0===c&&(d.style.cssText+=";height:5px;left:2px;right:2px;bottom:0",g.style.height="100%"),d.className="iScrollHorizontalScrollbar"):(!0===c&&(d.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px",g.style.width="100%"),d.className="iScrollVerticalScrollbar");d.style.cssText+=";overflow:hidden";b||(d.style.pointerEvents="none");d.appendChild(g);return d}function c(a,e){this.wrapper="string"===typeof e.el?document.querySelector(e.el):e.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=a;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in e)this.options[c]=e[c];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&(this.options.disableTouch||(g.addEvent(this.indicator,"touchstart",this),g.addEvent(b,"touchend",this)),this.options.disablePointer||(g.addEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this),g.addEvent(b,g.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(g.addEvent(this.indicator,"mousedown",this),g.addEvent(b,"mouseup",this)));this.options.fade&&(this.wrapperStyle[g.style.transform]=this.scroller.translateZ,this.wrapperStyle[g.style.transitionDuration]=g.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var h=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1E3/60)},g=function(){function a(a){return!1===d?!1:""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1)}var e={},c=document.createElement("div").style,d=function(){for(var a=["t","webkitT","MozT","msT","OT"],b,e=0,d=a.length;e<d;e++)if(b=a[e]+"ransform",b in c)return a[e].substr(0,a[e].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()};e.extend=function(a,b){for(var e in b)a[e]=b[e]};e.addEvent=function(a,b,e,c){a.addEventListener(b,e,!!c)};e.removeEvent=function(a,b,e,c){a.removeEventListener(b,e,!!c)};e.prefixPointerEvent=function(a){return b.MSPointerEvent?"MSPointer"+a.charAt(9).toUpperCase()+a.substr(10):a};e.momentum=function(a,b,e,c,d,g,f){function l(){50<+new Date-G&&(f._execEvent("scroll"),G=+new Date);+new Date-u<k&&h(l)}b=a-b;e=Math.abs(b)/e;var m,k;e/=2;e=1.5<e?1.5:e;g=void 0===g?6E-4:g;m=a+e*e/(2*g)*(0>b?-1:1);k=e/g;m<c?(m=d?c-d/2.5*(e/8):c,b=Math.abs(m-a),k=b/e):0<m&&(m=d?d/2.5*(e/8):0,b=Math.abs(a)+m,k=b/e);var u=+new Date,G=u;h(l);return{destination:Math.round(m),duration:k}};var g=a("transform");e.extend(e,{hasTransform:!1!==g,hasPerspective:a("perspective")in c,hasTouch:"ontouchstart"in b,hasPointer:b.PointerEvent||b.MSPointerEvent,hasTransition:a("transition")in c});e.isBadAndroid=/Android /.test(b.navigator.appVersion)&&!/Chrome\/\d/.test(b.navigator.appVersion)&&!1;e.extend(e.style={},{transform:g,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")});e.hasClass=function(a,b){return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)};e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b);a.className=c.join(" ")}};e.removeClass=function(a,b){e.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)","g")," "))};e.offset=function(a){for(var b=-a.offsetLeft,e=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,e-=a.offsetTop;return{left:b,top:e}};e.preventDefaultException=function(a,b){for(var e in b)if(b[e].test(a[e]))return!0;return!1};e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return--a*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1===a?1:.4*Math.pow(2,-10*a)*Math.sin(2*(a-.055)*Math.PI/.22)+1}}});e.tap=function(a,b){var e=document.createEvent("Event");e.initEvent(b,!0,!0);e.pageX=a.pageX;e.pageY=a.pageY;a.target.dispatchEvent(e)};e.click=function(a){var b=a.target,e;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,a.view,1,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),e._constructed=!0,b.dispatchEvent(e))};return e}();f.prototype={version:"5.1.3",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(a){a.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!==g.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&g.eventType[a.type]!==this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b=a.touches?a.touches[0]:a;this.initiated=g.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this._transitionTime();this.startTime=g.getTime();this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,a=this.getComputedPosition(),this._translate(Math.round(a.x),Math.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,f=g.getTime(),h;this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=c;this.distY+=d;b=Math.abs(this.distX);h=Math.abs(this.distY);if(!(300<f-this.endTime&&10>b&&10>h)){this.directionLocked||this.options.freeScroll||(this.directionLocked=b>h+this.options.directionLockThreshold?"h":h>=b+this.options.directionLockThreshold?"v":"n");if("h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)a.preventDefault();else if("horizontal"===this.options.eventPassthrough){this.initiated=!1;return}d=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)a.preventDefault();else if("vertical"===this.options.eventPassthrough){this.initiated=!1;return}c=0}c=this.hasHorizontalScroll?c:0;d=this.hasVerticalScroll?d:0;a=this.x+c;b=this.y+d;if(0<a||a<this.maxScrollX)a=this.options.bounce?this.x+c/3:0<a?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=this.options.bounce?this.y+d/3:0<b?0:this.maxScrollY;this.directionX=0<c?-1:0>c?1:0;this.directionY=0<d?-1:0>d?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,b);300<f-this.startTime&&(this.startTime=f,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this._execEvent("scroll"));1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c;c=g.getTime()-this.startTime;var d=Math.round(this.x),f=Math.round(this.y),h=Math.abs(d-this.startX),z=Math.abs(f-this.startY);b=0;var n="";this.initiated=this.isInTransition=0;this.endTime=g.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(d,f),this.moved)if(this._events.flick&&200>c&&100>h&&100>z)this._execEvent("flick");else if(this.options.momentum&&300>c&&(b=this.hasHorizontalScroll?g.momentum(this.x,this.startX,c,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:d,duration:0},c=this.hasVerticalScroll?g.momentum(this.y,this.startY,c,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:f,duration:0},d=b.destination,f=c.destination,b=Math.max(b.duration,c.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=n=this._nearestSnap(d,f),b=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(d-n.x),1E3),Math.min(Math.abs(f-n.y),1E3)),300),d=n.x,f=n.y,this.directionY=this.directionX=0,n=this.options.bounceEasing),d!==this.x||f!==this.y){if(0<d||d<this.maxScrollX||0<f||f<this.maxScrollY)n=g.ease.quadratic;this.scrollTo(d,f,b,n)}else this._execEvent("scrollEnd");else this.options.tap&&g.tap(a,this.options.tap),this.options.click&&g.click(a),this._execEvent("scrollCancel")}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var e=this.x,c=this.y;a=a||0;!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX);!this.hasVerticalScroll||0<this.y?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY);if(e===this.x&&c===this.y)return!1;if(this.options.ptr&&44<this.y&&-1*this.startY<$(b).height()&&!this.ptrLock){c=this.options.ptrOffset||44;this._execEvent("ptr");this.ptrLock=!0;var d=this;setTimeout(function(){d.ptrLock=!1},500)}this.scrollTo(e,c,a,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;this.wrapperOffset=g.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);-1<c&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a;b=this.y+b;this.scrollTo(a,b,c||0,d)},scrollTo:function(a,b,c,d){d=d||g.ease.circular;this.isInTransition=this.options.useTransition&&0<c;!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,d,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=g.offset(a);h.left-=this.wrapperOffset.left;h.top-=this.wrapperOffset.top;!0===c&&(c=Math.round(a.offsetWidth/2-this.wrapper.offsetWidth/2));!0===d&&(d=Math.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));h.left-=c||0;h.top-=d||0;h.left=0<h.left?0:h.left<this.maxScrollX?this.maxScrollX:h.left;h.top=0<h.top?0:h.top<this.maxScrollY?this.maxScrollY:h.top;b=void 0===b||null===b||"auto"===b?Math.max(Math.abs(this.x-h.left),Math.abs(this.y-h.top)):b;this.scrollTo(h.left,h.top,b,f)}},_transitionTime:function(a){a=a||0;this.scrollerStyle[g.style.transitionDuration]=a+"ms";!a&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s");if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){this.scrollerStyle[g.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=Math.round(a),b=Math.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px");this.x=a;this.y=b;if(this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},_initEvents:function(a){a=a?g.removeEvent:g.addEvent;var c=this.options.bindToWrapper?this.wrapper:b;a(b,"orientationchange",this);a(b,"resize",this);this.options.click&&a(this.wrapper,"click",this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(c,"mousemove",this),a(c,"mousecancel",this),a(c,"mouseup",this));g.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,g.prefixPointerEvent("pointerdown"),this),a(c,g.prefixPointerEvent("pointermove"),this),a(c,g.prefixPointerEvent("pointercancel"),this),a(c,g.prefixPointerEvent("pointerup"),this));g.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(c,"touchmove",this),a(c,"touchcancel",this),a(c,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,"webkitTransitionEnd",this);a(this.scroller,"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=b.getComputedStyle(this.scroller,null),c;this.options.useTransform?(a=a[g.style.transform].split(")")[0].split(", "),c=+(a[12]||a[4]),a=+(a[13]||a[5])):(c=+a.left.replace(/[^-\d.]/g,""),a=+a.top.replace(/[^-\d.]/g,""));return{x:c,y:a}},_initIndicators:function(){function a(a){for(var b=p.indicators.length;b--;)a.call(p.indicators[b])}var b=this.options.interactiveScrollbars,g="string"!==typeof this.options.scrollbars,f=[],h,p=this;this.indicators=[];this.options.scrollbars&&(this.options.scrollY&&(h={el:d("v",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:g,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(h.el),f.push(h)),this.options.scrollX&&(h={el:d("h",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:g,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(h.el),f.push(h)));this.options.indicators&&(f=f.concat(this.options.indicators));for(b=f.length;b--;)this.indicators.push(new c(this,f[b]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})}));this.on("refresh",function(){a(function(){this.refresh()})});this.on("destroy",function(){a(function(){this.destroy()});delete this.indicators})},_initWheel:function(){g.addEvent(this.wrapper,"wheel",this);g.addEvent(this.wrapper,"mousewheel",this);g.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){g.removeEvent(this.wrapper,"wheel",this);g.removeEvent(this.wrapper,"mousewheel",this);g.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();a.stopPropagation();var b,c,d,g=this;void 0===this.wheelTimeout&&g._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd");g.wheelTimeout=void 0},400);if("deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,a=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,a=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,a=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=a=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)b=a=-a.detail/3*this.options.mouseWheelSpeed;else return;b*=this.options.invertWheelDirection;a*=this.options.invertWheelDirection;this.hasVerticalScroll||(b=a,a=0);this.options.snap?(c=this.currentPage.pageX,d=this.currentPage.pageY,0<b?c--:0>b&&c++,0<a?d--:0>a&&d++,this.goToPage(c,d)):(c=this.x+Math.round(this.hasHorizontalScroll?b:0),d=this.y+Math.round(this.hasVerticalScroll?a:0),0<c?c=0:c<this.maxScrollX&&(c=this.maxScrollX),0<d?d=0:d<this.maxScrollY&&(d=this.maxScrollY),this.scrollTo(c,d,0),this._execEvent("scroll"))}},_initSnap:function(){this.currentPage={};"string"===typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var a=0,b,c=0,d,g,f,h=0,n;d=this.options.snapStepX||this.wrapperWidth;var v=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(g=Math.round(d/2),f=Math.round(v/2);h>-this.scrollerWidth;){this.pages[a]=[];for(n=b=0;n>-this.scrollerHeight;)this.pages[a][b]={x:Math.max(h,this.maxScrollX),y:Math.max(n,this.maxScrollY),width:d,height:v,cx:h-g,cy:n-f},n-=v,b++;h-=d;a++}else for(v=this.options.snap,b=v.length,d=-1;a<b;a++){if(0===a||v[a].offsetLeft<=v[a-1].offsetLeft)c=0,d++;this.pages[c]||(this.pages[c]=[]);h=Math.max(-v[a].offsetLeft,this.maxScrollX);n=Math.max(-v[a].offsetTop,this.maxScrollY);g=h-Math.round(v[a].offsetWidth/2);f=n-Math.round(v[a].offsetHeight/2);this.pages[c][d]={x:h,y:n,width:v[a].offsetWidth,height:v[a].offsetHeight,cx:g,cy:f};h>this.maxScrollX&&c++}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1E3),Math.min(Math.abs(this.y-this.startY),1E3)),300))})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,g=0;if(Math.abs(a-this.absStartX)<this.snapThresholdX&&Math.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;g<d;g++)if(b>=this.pages[0][g].cy){b=this.pages[0][g].y;break}c===this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);g===this.currentPage.pageY&&(g+=this.directionY,0>g?g=0:g>=this.pages[0].length&&(g=this.pages[0].length-1),b=this.pages[0][g].y);return{x:a,y:b,pageX:c,pageY:g}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var g=this.pages[a][b].x,f=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(g-this.x),1E3),Math.min(Math.abs(f-this.y),1E3)),300):c;this.currentPage={x:g,y:f,pageX:a,pageY:b};this.scrollTo(g,f,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(){var a={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},c;if("object"===typeof this.options.keyBindings)for(c in this.options.keyBindings)"string"===typeof this.options.keyBindings[c]&&(this.options.keyBindings[c]=this.options.keyBindings[c].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(c in a)this.options.keyBindings[c]=this.options.keyBindings[c]||a[c];g.addEvent(b,"keydown",this);this.on("destroy",function(){g.removeEvent(b,"keydown",this)})},_key:function(a){if(this.enabled){var b=this.options.snap,c=b?this.currentPage.pageX:this.x,d=b?this.currentPage.pageY:this.y,f=g.getTime(),h=this.keyTime||0,z;this.options.useTransition&&this.isInTransition&&(z=this.getComputedPosition(),this._translate(Math.round(z.x),Math.round(z.y)),this.isInTransition=!1);this.keyAcceleration=200>f-h?Math.min(this.keyAcceleration+.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?c+=b?1:this.wrapperWidth:d+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?c-=b?1:this.wrapperWidth:d-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:c=b?this.pages.length-1:this.maxScrollX;d=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=c=0;break;case this.options.keyBindings.left:c+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:d+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:c-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:d-=b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(c,d):(0<c?this.keyAcceleration=c=0:c<this.maxScrollX&&(c=this.maxScrollX,this.keyAcceleration=0),0<d?this.keyAcceleration=d=0:d<this.maxScrollY&&(d=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(c,d,0),this.keyTime=f)}},_animate:function(a,b,c,d){function f(){var q=g.getTime(),w;q>=F?(p.isAnimating=!1,p._translate(a,b),p.resetPosition(p.options.bounceTime)||p._execEvent("scrollEnd")):(q=(q-v)/c,w=d(q),q=(a-z)*w+z,w=(b-n)*w+n,p._translate(q,w),p.isAnimating&&h(f),3===p.options.probeType&&p._execEvent("scroll"))}var p=this,z=this.x,n=this.y,v=g.getTime(),F=v+c;this.isAnimating=!0;f()},handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(a);break;case "keydown":this._key(a);break;case "click":a._constructed||(a.preventDefault(),a.stopPropagation())}}};c.prototype={handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(g.removeEvent(this.indicator,"touchstart",this),g.removeEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this),g.removeEvent(this.indicator,"mousedown",this),g.removeEvent(b,"touchmove",this),g.removeEvent(b,g.prefixPointerEvent("pointermove"),this),g.removeEvent(b,"mousemove",this),g.removeEvent(b,"touchend",this),g.removeEvent(b,g.prefixPointerEvent("pointerup"),this),g.removeEvent(b,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var c=a.touches?a.touches[0]:a;a.preventDefault();a.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=c.pageX;this.lastPointY=c.pageY;this.startTime=g.getTime();this.options.disableTouch||g.addEvent(b,"touchmove",this);this.options.disablePointer||g.addEvent(b,g.prefixPointerEvent("pointermove"),this);this.options.disableMouse||g.addEvent(b,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a,c,d,f=g.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;c=b.pageX-this.lastPointX;this.lastPointX=b.pageX;d=b.pageY-this.lastPointY;this.lastPointY=b.pageY;this._pos(this.x+c,this.y+d);1===this.scroller.options.probeType&&300<f-this.startTime?(this.startTime=f,this.scroller._execEvent("scroll")):1<this.scroller.options.probeType&&this.scroller._execEvent("scroll");a.preventDefault();a.stopPropagation()},_end:function(a){if(this.initiated){this.initiated=!1;a.preventDefault();a.stopPropagation();g.removeEvent(b,"touchmove",this);g.removeEvent(b,g.prefixPointerEvent("pointermove"),this);g.removeEvent(b,"mousemove",this);if(this.scroller.options.snap){a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-a.x),1E3),Math.min(Math.abs(this.scroller.y-a.y),1E3)),300);if(this.scroller.x!==a.x||this.scroller.y!==a.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,c,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0;this.indicatorStyle[g.style.transitionDuration]=a+"ms";!a&&g.isBadAndroid&&(this.indicatorStyle[g.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[g.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(g.addClass(this.wrapper,"iScrollBothScrollbars"),g.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(g.removeClass(this.wrapper,"iScrollBothScrollbars"),g.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=Math.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"===this.options.shrink?(this.width=Math.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"===this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=a;this.y=b;this.scroller.options.useTransform?this.indicatorStyle[g.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX);0>b?b=0:b>this.maxPosY&&(b=this.maxPosY);a=this.options.listenX?Math.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?Math.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var c=a?250:500,d=a?0:300;this.wrapperStyle[g.style.transitionDuration]=c+"ms";this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a;this.visible=+a}.bind(this,a?"1":"0"),d)}}};f.utils=g;b.IScroll=f}(window);+function(b){var f=b.fn.scrollTop,d=b.fn.scrollLeft;(function(){b.extend(b.fn,{scrollTop:function(b,a){if(this.length){var c=this.data("scroller");return c&&c.scroller?c.scrollTop(b,a):f.apply(this,arguments)}}});b.extend(b.fn,{scrollLeft:function(b,a){if(this.length){var c=this.data("scroller");return c&&c.scroller?c.scrollLeft(b,a):d.apply(this,arguments)}}})})();var c=function(c,a){var d=this.$pageContent=b(c);this.options=b.extend({},this._defaults,a);var f=this.options.type;if("js"===f||"auto"===f&&b.device.android&&-1<b.compareVersion("4.4.0",b.device.osVersion)||b.device.ios&&-1<b.compareVersion("6.0.0",b.device.osVersion)){if(d.find(".content-inner")[0]||(1>d.children().length?d.children().wrapAll('\x3cdiv class\x3d"content-inner"\x3e\x3c/div\x3e'):d.html('\x3cdiv class\x3d"content-inner"\x3e'+d.html()+"\x3c/div\x3e")),d.hasClass("pull-to-refresh-content")&&d.find(".content-inner").css("min-height",b(window).height()+20+"px"),f={probeType:1,mouseWheel:!0},b(c).hasClass("pull-to-refresh-content")&&(f.ptr=!0,f.ptrOffset=44),this.scroller=new IScroll(c,f),this._bindEventToDomWhenJs(),b.initPullToRefresh=b._pullToRefreshJSScroll.initPullToRefresh,b.pullToRefreshDone=b._pullToRefreshJSScroll.pullToRefreshDone,b.pullToRefreshTrigger=b._pullToRefreshJSScroll.pullToRefreshTrigger,b.destroyToRefresh=b._pullToRefreshJSScroll.destroyToRefresh,d.addClass("javascript-scroll"),d=this.$pageContent[0].scrollTop)this.$pageContent[0].scrollTop=0,this.scrollTop(d)}else d.addClass("native-scroll")};c.prototype={_defaults:{type:"native"},_bindEventToDomWhenJs:function(){if(this.scroller){var b=this;this.scroller.on("scrollStart",function(){b.$pageContent.trigger("scrollstart")});this.scroller.on("scroll",function(){b.$pageContent.trigger("scroll")});this.scroller.on("scrollEnd",function(){b.$pageContent.trigger("scrollend")})}},scrollTop:function(b,a){if(this.scroller)if(void 0!==b)this.scroller.scrollTo(0,-1*b,a);else return-1*this.scroller.getComputedPosition().y;else return this.$pageContent.scrollTop(b,a);return this},scrollLeft:function(b,a){if(this.scroller)if(void 0!==b)this.scroller.scrollTo(-1*b,0);else return-1*this.scroller.getComputedPosition().x;else return this.$pageContent.scrollTop(b,a);return this},on:function(b,a){if(this.scroller)this.scroller.on(b,function(){a.call(this.wrapper)});else this.$pageContent.on(b,a);return this},off:function(b,a){this.scroller?this.scroller.off(b,a):this.$pageContent.off(b,a);return this},refresh:function(){this.scroller&&this.scroller.refresh();return this},scrollHeight:function(){return this.scroller?this.scroller.scrollerHeight:this.$pageContent[0].scrollHeight}};var h=b.fn.scroller;b.fn.scroller=function(d){var a=Array.apply(null,arguments);a.shift();var e;this.each(function(){var f=b(this),h=b.extend({},f.dataset(),"object"===typeof d&&d),u=f.data("scroller");u||f.data("scroller",u=new c(this,h));if("string"===typeof d&&"function"===typeof u[d]&&(e=u[d].apply(u,a),void 0!==e))return!1});return void 0!==e?e:this};b.fn.scroller.Constructor=c;b.fn.scroller.noConflict=function(){b.fn.scroller=h;return this};b(function(){b('[data-toggle\x3d"scroller"]').scroller()});b.refreshScroller=function(c){c?b(c).scroller("refresh"):b(".javascript-scroll").each(function(){b(this).scroller("refresh")})};b.initScroller=function(c){this.options=b.extend({},"object"===typeof c&&c);b('[data-toggle\x3d"scroller"],.content').scroller(c)};b.getScroller=function(c){return c?b(c).data("scroller"):b(".content.javascript-scroll").data("scroller")};b.detectScrollerType=function(c){if(c)return b(c).data("scroller")&&b(c).data("scroller").scroller?"js":"native"}}(Zepto);+function(b){var f=0;b._pullToRefreshJSScroll={initPullToRefresh:function(d){function c(){l.hasClass("refreshing")||(44<=-1*e.scrollTop()?l.removeClass("pull-down").addClass("pull-up"):l.removeClass("pull-up").addClass("pull-down"))}function h(){l.hasClass("refreshing")||(l.removeClass("pull-down pull-up"),l.addClass("refreshing transitioning"),l.trigger("refresh",{done:function(){b.pullToRefreshDone(l)}}),f=+new Date)}function g(){e.off("scroll",c);e.scroller.off("ptr",h)}d=b(d);d.hasClass("pull-to-refresh-content")||(d=d.find(".pull-to-refresh-content"));if(d&&0!==d.length){var a=d.hasClass("content")?d:d.parents(".content"),e=b.getScroller(a[0]);if(e){var l=d;e.on("scroll",c);e.scroller.on("ptr",h);d[0].destroyPullToRefresh=g}}},pullToRefreshDone:function(d){d=b(d);0===d.length&&(d=b(".pull-to-refresh-content.refreshing"));if(0!==d.length){var c=+new Date-f,c=1E3<c?0:1E3-c,h=b.getScroller(d);setTimeout(function(){h.refresh();d.removeClass("refreshing");d.transitionEnd(function(){d.removeClass("transitioning")})},c)}},pullToRefreshTrigger:function(d){d=b(d);0===d.length&&(d=b(".pull-to-refresh-content"));d.hasClass("refreshing")||(d.addClass("refreshing"),b.getScroller(d).scrollTop(45,200),d.trigger("refresh",{done:function(){b.pullToRefreshDone(d)}}))},destroyPullToRefresh:function(d){d=b(d);d=d.hasClass("pull-to-refresh-content")?d:d.find(".pull-to-refresh-content");0!==d.length&&d[0].destroyPullToRefresh&&d[0].destroyPullToRefresh()}}}(Zepto);+function(b){b.initPullToRefresh=function(f){var d,c;function h(a){if(m)if(b.device.android){if("targetTouches"in a&&1<a.targetTouches.length)return}else return;u=!1;m=!0;y=p=void 0;d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX;c="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;(new Date).getTime();n=b(this)}function g(a){if(m){var e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,g="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;"undefined"===typeof p&&(p=!!(p||Math.abs(g-c)>Math.abs(e-d)));if(p){r=n[0].scrollTop;"undefined"===typeof y&&0!==r&&(y=!0);if(!u){n.removeClass("transitioning");if(r>n[0].offsetHeight){m=!1;return}x&&(k=n.attr("data-ptr-distance"),0<=k.indexOf("%")&&(k=n[0].offsetHeight*parseInt(k,10)/100));q=n.hasClass("refreshing")?k:0;F=n[0].scrollHeight!==n[0].offsetHeight&&b.device.ios?!1:!0;F=!0}u=!0;z=g-c;0<z&&0>=r||0>r?(b.device.ios&&7<parseInt(b.device.osVersion.split(".")[0],10)&&0===r&&!y&&(F=!0),F&&(a.preventDefault(),w=Math.pow(z,.85)+q,n.transform("translate3d(0,"+w+"px,0)")),F&&Math.pow(z,.85)>k||!F&&z>=2*k?(v=!0,n.addClass("pull-up").removeClass("pull-down")):(v=!1,n.removeClass("pull-up").addClass("pull-down"))):(n.removeClass("pull-up pull-down"),v=!1)}else m=!1}}function a(){m&&u&&(w&&(n.addClass("transitioning"),w=0),n.transform(""),v?(n.addClass("refreshing"),n.trigger("refresh",{done:function(){b.pullToRefreshDone(n)}})):n.removeClass("pull-down"));u=m=!1}function e(){l.off(b.touchEvents.start,h);l.off(b.touchEvents.move,g);l.off(b.touchEvents.end,a)}var l=b(f);l.hasClass("pull-to-refresh-content")||(l=l.find(".pull-to-refresh-content"));if(l&&0!==l.length){var m,u;c=d=void 0;var p,z,n,v=!1,F=!1,q=0,w,r,y,k,x;n=l;n.attr("data-ptr-distance")?x=!0:k=44;l.on(b.touchEvents.start,h);l.on(b.touchEvents.move,g);l.on(b.touchEvents.end,a);l[0].destroyPullToRefresh=e}};b.pullToRefreshDone=function(f){b(window).scrollTop(0);f=b(f);0===f.length&&(f=b(".pull-to-refresh-content.refreshing"));f.removeClass("refreshing").addClass("transitioning");f.transitionEnd(function(){f.removeClass("transitioning pull-up pull-down")})};b.pullToRefreshTrigger=function(f){f=b(f);0===f.length&&(f=b(".pull-to-refresh-content"));f.hasClass("refreshing")||(f.addClass("transitioning refreshing"),f.trigger("refresh",{done:function(){b.pullToRefreshDone(f)}}))};b.destroyPullToRefresh=function(f){f=b(f);f=f.hasClass("pull-to-refresh-content")?f:f.find(".pull-to-refresh-content");0!==f.length&&f[0].destroyPullToRefresh&&f[0].destroyPullToRefresh()}}(Zepto);+function(b){function f(){var d=b(this),c=b.getScroller(d),f=c.scrollTop(),c=c.scrollHeight(),g=d[0].offsetHeight,a=d[0].getAttribute("data-distance"),e=d.find(".virtual-list"),l=d.hasClass("infinite-scroll-top");a||(a=50);"string"===typeof a&&0<=a.indexOf("%")&&(a=parseInt(a,10)/100*g);a>g&&(a=g);if(l)f<a&&d.trigger("infinite");else if(f+g>=c-a){if(0<e.length&&(f=e[0].f7VirtualList)&&!f.reachEnd)return;d.trigger("infinite")}}b.attachInfiniteScroll=function(d){b.getScroller(d).on("scroll",f)};b.detachInfiniteScroll=function(d){b.getScroller(d).off("scroll",f)};b.initInfiniteScroll=function(d){function c(){b.detachInfiniteScroll(f);d.off("pageBeforeRemove",c)}d=b(d);var f=d.hasClass("infinite-scroll")?d:d.find(".infinite-scroll");0!==f.length&&(b.attachInfiniteScroll(f),d.on("pageBeforeRemove",c))}}(Zepto);+function(b){b(function(){b(document).on("focus",".searchbar input",function(f){b(f.target).parents(".searchbar").addClass("searchbar-active")});b(document).on("click",".searchbar-cancel",function(f){b(f.target).parents(".searchbar").removeClass("searchbar-active")});b(document).on("blur",".searchbar input",function(f){b(f.target).parents(".searchbar").removeClass("searchbar-active")})})}(Zepto);+function(b){b.allowPanelOpen=!0;b.openPanel=function(f){function d(){g.transitionEnd(function(a){a.target===g[0]?(f.hasClass("active")?f.trigger("opened"):f.trigger("closed"),b.allowPanelOpen=!0):d()})}if(!b.allowPanelOpen)return!1;if("left"===f||"right"===f)f=".panel-"+f;f=f?b(f):b(".panel").eq(0);var c=f.hasClass("panel-right")?"right":"left";if(0===f.length||f.hasClass("active"))return!1;b.closePanel();b.allowPanelOpen=!1;var h=f.hasClass("panel-reveal")?"reveal":"cover";f.css({display:"block"}).addClass("active");f.trigger("open");var g="reveal"===h?b(b.getCurrentPage()):f;d();b(document.body).addClass("with-panel-"+c+"-"+h);return!0};b.closePanel=function(){var f=b(".panel.active");if(0===f.length)return!1;var d=f.hasClass("panel-reveal")?"reveal":"cover",c=f.hasClass("panel-left")?"left":"right";f.removeClass("active");var h="reveal"===d?b(".page"):f;f.trigger("close");b.allowPanelOpen=!1;h.transitionEnd(function(){f.hasClass("active")||(f.css({display:""}),f.trigger("closed"),b("body").removeClass("panel-closing"),b.allowPanelOpen=!0)});b("body").addClass("panel-closing").removeClass("with-panel-"+c+"-"+d)};b(document).on("click",".open-panel",function(f){f=b(f.target).data("panel");b.openPanel(f)});b(document).on("click",".close-panel, .panel-overlay",function(f){b.closePanel()});b.initSwipePanels=function(){var f,d;function c(c){if(b.allowPanelOpen&&(l||m)&&!p&&!(0<b(".modal-in, .photo-browser-in").length)){f="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX;d="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY;if(0<b(".panel.active").length)e=b(".panel.active").hasClass("panel-left")?"left":"right";else{if(m)return;e=l}e&&(a=b(".panel.panel-"+e),a[0]&&(w=a.hasClass("active"),z=!1,p=!0,n=void 0,v=(new Date).getTime(),k=void 0))}}function h(b){if(p&&a[0]&&!b.f7PreventPanelSwipe){var c="touchmove"===b.type?b.targetTouches[0].pageX:b.pageX,g="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY;"undefined"===typeof n&&(n=!!(n||Math.abs(g-d)>Math.abs(c-f)));if(n)p=!1;else{if(!k&&(k=c>f?"to-right":"to-left","left"===e&&"to-left"===k&&!a.hasClass("active")||"right"===e&&"to-right"===k&&!a.hasClass("active"))){p=!1;return}z||(y=a.hasClass("panel-cover")?"cover":"reveal",w||(a.show(),u.show()),r=a[0].offsetWidth,a.transition(0));z=!0;b.preventDefault();b=w?0:-2;"right"===e&&(b=-b);F=c-f+b;"right"===e?(q=F-(w?r:0),0<q&&(q=0),q<-r&&(q=-r)):(q=F+(w?r:0),0>q&&(q=0),q>r&&(q=r));"reveal"===y?(x.transform("translate3d("+q+"px,0,0)").transition(0),u.transform("translate3d("+q+"px,0,0)")):a.transform("translate3d("+q+"px,0,0)").transition(0)}}}function g(c){if(p&&z){z=p=!1;var d=(new Date).getTime()-v;c=0===q||Math.abs(q)===r;d=w?q===-r?"reset":300>d&&0<=Math.abs(q)||300<=d&&Math.abs(q)<=r/2?"left"===e&&q===r?"reset":"swap":"reset":0===q?"reset":300>d&&0<Math.abs(q)||300<=d&&Math.abs(q)>=r/2?"swap":"reset";"swap"===d&&(b.allowPanelOpen=!0,w?(b.closePanel(),c&&(a.css({display:""}),b("body").removeClass("panel-closing"))):b.openPanel(e),c&&(b.allowPanelOpen=!0));"reset"===d&&(w?(b.allowPanelOpen=!0,b.openPanel(e)):(b.closePanel(),c?(b.allowPanelOpen=!0,a.css({display:""})):(c="reveal"===y?x:a,b("body").addClass("panel-closing"),c.transitionEnd(function(){b.allowPanelOpen=!0;a.css({display:""});b("body").removeClass("panel-closing")}))));"reveal"===y&&(x.transition(""),x.transform(""));a.transition("").transform("");u.css({display:""}).transform("")}else z=p=!1}var a,e,l=b.smConfig.swipePanel,m=b.smConfig.swipePanelOnlyClose;if(l||m){var u=b(".panel-overlay"),p,z,n;d=f=void 0;var v,F,q,w,r,y,k,x=b(".page");b(document).on(b.touchEvents.start,c);b(document).on(b.touchEvents.move,h);b(document).on(b.touchEvents.end,g)}};b.initSwipePanels()}(Zepto);+function(b){window.CustomEvent||(window.CustomEvent=function(b,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var f=document.createEvent("CustomEvent");f.initCustomEvent(b,c.bubbles,c.cancelable,c.detail);return f},window.CustomEvent.prototype=window.Event.prototype);var f=function(){this.state=sessionStorage;this.state.setItem("stateid",parseInt(this.state.getItem("stateid")||1)+1);this.state.setItem("currentStateID",this.state.getItem("stateid"));this.stack=sessionStorage;this.stack.setItem("back","[]");this.stack.setItem("forward","[]");this.init();this.xhr=null;this.newLoaded=!0};f.prototype.defaults={};f.prototype.init=function(){var d=this.getCurrentPage(),c=b(".page").eq(0);d[0]||(d=c.addClass("page-current"));var f=location.hash;d[0]&&!d[0].id&&(d[0].id=f?f.slice(1):this.genRandomID());if(!d[0])throw Error("can't find .page element");var g=b(f);!g[0]||!g.hasClass("page")||d[0]&&f.slice(1)===d[0].id||(d.removeClass("page-current"),g.addClass("page-current"));d=this.genStateID();f=location.href;g=f.split("#")[0];history.replaceState({url:f,id:d},"",f);this.setCurrentStateID(d);this.pushBack({url:g,pageid:"#"+c[0].id,id:d});window.addEventListener("popstate",b.proxy(this.onpopstate,this))};f.prototype.loadPage=function(d){this.newLoaded&&(this.newLoaded=!1);this.getPage(d,function(c){var f=this.getCurrentPage()[0].id;this.pushBack({url:d,pageid:"#"+f,id:this.getCurrentStateID()});for(var f=JSON.parse(this.state.getItem("forward")||"[]"),g=0;g<f.length;g++)b(f[g].pageid).each(function(){var a=b(this);a.data("page-remote")&&a.remove()});this.state.setItem("forward","[]");c.insertAfter(b(".page")[0]);this.animatePages(this.getCurrentPage(),c);c=this.genStateID();this.setCurrentStateID(c);this.pushState(d,c);this.forwardStack=[]})};f.prototype.animatePages=function(b,c,f){f?(b.trigger("pageAnimationStart",[c[0].id,c]),b.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center").addClass("page-current").addClass("page-from-left-to-center"),c.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center").removeClass("page-current").addClass("page-from-center-to-right"),b.animationEnd(function(){b.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center");b.trigger("pageAnimationEnd",[b[0].id,b]);b.trigger("pageReinit",[b[0].id,b])}),c.animationEnd(function(){c.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center")})):(c.trigger("pageAnimationStart",[c[0].id,c]),b.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center").removeClass("page-current").addClass("page-from-center-to-left"),c.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center").addClass("page-current").addClass("page-from-right-to-center"),b.animationEnd(function(){b.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center")}),c.animationEnd(function(){c.removeClass("page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center");c.trigger("pageAnimationEnd",[c[0].id,c]);c.trigger("pageInitInternal",[c[0].id,c])}))};f.prototype.getCurrentPage=function(){return b(".page-current")};f.prototype.forward=function(b){JSON.parse(this.stack.getItem("forward")).length?history.forward():location.href=b};f.prototype.back=function(b){JSON.parse(this.stack.getItem("back")).length?history.back():b?location.href=b:console.warn("[router.back]: can not back")};f.prototype._back=function(d){d=this.popBack();var c=this.getCurrentPage(),f=b(d.pageid);f[0]&&(this.pushForward({url:location.href,pageid:"#"+c[0].id,id:this.getCurrentStateID()}),this.setCurrentStateID(d.id),this.animatePages(f,c,!0))};f.prototype._forward=function(){var d=this.popForward(),c=this.getCurrentPage(),f=b(d.pageid);f[0]&&(this.pushBack({url:location.href,pageid:"#"+c[0].id,id:this.getCurrentStateID()}),this.setCurrentStateID(d.id),this.animatePages(c,f))};f.prototype.pushState=function(b,c){history.pushState({url:b,id:c},"",b)};f.prototype.onpopstate=function(b){b=b.state;if(!b||this.newLoaded)this.newLoaded=!1;else{if(b.id===this.getCurrentStateID())return!1;b.id>this.getCurrentStateID()?this._forward():this._back(b.url)}};f.prototype.getPage=function(d,c){if("#"===d[0])return c.apply(this,[b(d)]);this.dispatch("pageLoadStart");this.xhr&&4>this.xhr.readyState&&(this.xhr.onreadystatechange=function(){},this.xhr.abort(),this.dispatch("pageLoadCancel"));var f=this;this.xhr=b.ajax({url:d,success:b.proxy(function(b,a,d){b=this.parseXHR(d);b[0].id||(b[0].id=this.genRandomID());b.data("page-remote",1);c.apply(this,[b])},this),error:function(){f.dispatch("pageLoadError")},complete:function(){f.dispatch("pageLoadComplete")}})};f.prototype.parseXHR=function(d){var c="";d=d.responseText;c=(c=d.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?c[1]:d;d=b("\x3cdiv\x3e"+c+"\x3c/div\x3e");d.find(".popup, .panel, .panel-overlay").appendTo(document.body);c=d.find(".page");c[0]||(c=d.addClass("page"));return c};f.prototype.genStateID=function(){var b=parseInt(this.state.getItem("stateid"))+1;this.state.setItem("stateid",b);return b};f.prototype.getCurrentStateID=function(){return parseInt(this.state.getItem("currentStateID"))};f.prototype.setCurrentStateID=function(b){this.state.setItem("currentStateID",b)};f.prototype.genRandomID=function(){return"page-"+ +new Date};f.prototype.popBack=function(){var b=JSON.parse(this.stack.getItem("back"));if(!b.length)return null;var c=b.splice(b.length-1,1)[0];this.stack.setItem("back",JSON.stringify(b));return c};f.prototype.pushBack=function(b){var c=JSON.parse(this.stack.getItem("back"));c.push(b);this.stack.setItem("back",JSON.stringify(c))};f.prototype.popForward=function(){var b=JSON.parse(this.stack.getItem("forward"));if(!b.length)return null;var c=b.splice(b.length-1,1)[0];this.stack.setItem("forward",JSON.stringify(b));return c};f.prototype.pushForward=function(b){var c=JSON.parse(this.stack.getItem("forward"));c.push(b);this.stack.setItem("forward",JSON.stringify(c))};f.prototype.dispatch=function(b){b=new CustomEvent(b,{bubbles:!0,cancelable:!0});window.dispatchEvent(b)};b(function(){if(b.smConfig.router){var d=b.router=new f;b(document).on("click","a",function(c){var f=b(c.currentTarget);f.hasClass("external")||f[0].hasAttribute("external")||f.hasClass("tab-link")||f.hasClass("open-popup")||f.hasClass("open-panel")||(c.preventDefault(),c=f.attr("href"),f.hasClass("back")?d.back(c):c&&"#"!==c&&d.loadPage(c))})}})}(Zepto);+function(b){var f=function(){var d=b(".page-current");d[0]||(d=b(".page").addClass("page-current"));return d};b.initPage=function(d){d=f();d[0]||(d=b(document.body));d=d.hasClass("content")?d:d.find(".content");d.scroller();b.initPullToRefresh(d);b.initInfiniteScroll(d);b.initCalendar(d);b.initSwiper&&b.initSwiper(d)};b.smConfig.showPageLoadingIndicator&&(b(window).on("pageLoadStart",function(){b.showIndicator()}),b(document).on("pageAnimationStart",function(){b.hideIndicator()}),b(window).on("pageLoadCancel",function(){b.hideIndicator()}),b(window).on("pageLoadError",function(){b.hideIndicator();b.toast("\u52a0\u8f7d\u5931\u8d25")}));b.init=function(){var d=f(),c=d[0].id;b.initPage();d.trigger("pageInit",[c,d])};b(function(){b.smConfig.autoInit&&b.init();b(document).on("pageInitInternal",function(d,c,f){b.init()})})}(Zepto);+function(b){function f(){var c=0<b(".page-current").length?".page-current ":"",f=b(c+".content");["nav","footer"].forEach(function(d){d=b(c+".bar-"+d);d.off(b.touchEvents.move);d.on(b.touchEvents.move,function(a){"touchmove"===a.type&&a.preventDefault()})});new d(f[0])}var d=function(b){var d;(b=b||document.querySelector(b))&&b.addEventListener("touchstart",function(f){d=b.scrollTop;0>=d&&(b.scrollTop=1);d+b.offsetHeight>=b.scrollHeight&&(b.scrollTop=b.scrollHeight-b.offsetHeight-1)},!1)};window.addEventListener("pageLoadComplete",f);f()}(Zepto);